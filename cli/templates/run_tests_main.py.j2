#!/usr/bin/env python3
"""
Auto-generated test runner for Gradescope.
Generated by TIF Autograder CLI Tool.
Language: {{ config.language }}
Total Questions: {{ config.questions|length }}
"""

import unittest
import sys
from pathlib import Path
from gradescope_utils.autograder_utils.json_test_runner import JSONTestRunner

# Import all question test modules
{% for question in config.questions %}
{% set question_module = question.name|lower|replace(' ', '_')|replace('-', '_')|replace('.', '_') %}
from test_{{ question_module }} import Test{{ question.name|title|replace(' ', '')|replace('-', '')|replace('.', '') }}
{% endfor %}

def main():
    """Main test runner that combines all question tests."""
    # Create test suite
    loader = unittest.TestLoader()
    suite = unittest.TestSuite()
    
    # Add all question test classes to the suite
{% for question in config.questions %}
{% set question_class = question.name|title|replace(' ', '')|replace('-', '')|replace('.', '') %}
    suite.addTests(loader.loadTestsFromTestCase(Test{{ question_class }}))
{% endfor %}
    
    # Run tests with Gradescope utilities
    with open('/autograder/results/results.json', 'w') as f:
        runner = JSONTestRunner(visibility='visible', stream=f)
        runner.run(suite)

if __name__ == '__main__':
    main()
